<div class="container mt-5">
  <h2>Ticket Validation</h2>
  <form (submit)="validateTicket()">
    <div class="form-group">
      <label for="ticketId">Ticket ID</label>
      <input
        type="text"
        id="ticketId"
        class="form-control"
        [(ngModel)]="ticketId"
        placeholder="Enter Ticket ID"
        required
        name="ticketId"
      />
    </div>
    <button class="btn btn btn-secondary mt-3" type="submit">Validate</button>
  </form>

  <!-- Display Ticket Details -->
  <div class="mt-4" *ngIf="ticketInfo.id">
    <h4>Ticket Information</h4>
    <ul class="list-group">
      <li class="list-group-item"><strong>ID:</strong> {{ ticketInfo.id }}</li>
      <li class="list-group-item"><strong>Quantity:</strong> {{ ticketInfo.noOfTickets }}</li>
      <li class="list-group-item"><strong>Amount:</strong> {{ ticketInfo.amount }}</li>
      <li class="list-group-item"><strong>Used:</strong> {{ ticketInfo.ticketUsed ? 'Yes' : 'No' }}</li>
      <li class="list-group-item"><strong>Time Used:</strong> {{ ticketInfo.dateAndTimeTicketUsed ? (ticketInfo.dateAndTimeTicketUsed | date :'short') : "N/A" }}</li>
      <li class="list-group-item"><strong>Payment Reference:</strong> {{ ticketInfo.payRef }}</li>
      <li class="list-group-item"><strong>Event Name:</strong> {{ ticketInfo.eventName }}</li>
      <li class="list-group-item"><strong>Owner Name:</strong> {{ ticketInfo.name }}</li>
      <li class="list-group-item"><strong>Email:</strong> {{ ticketInfo.email }}</li>
      <li class="list-group-item"><strong>Phone:</strong> {{ ticketInfo.phone }}</li>
<!--      <li class="list-group-item"><strong>QR Code:</strong>-->
<!--        <img [src]="ticketInfo.qrCode" alt="QR Code" style="max-width: 150px;" />-->
<!--      </li>-->
    </ul>
    <button *ngIf="!ticketInfo.ticketUsed" (click)="invalidateTicket()" class="btn btn-primary mt-3" type="submit">Invalidate Ticket</button>
  </div>

  <!-- Error Message -->
  <div class="mt-4" *ngIf="errorMessage">
    <div class="alert alert-danger">
      {{ errorMessage }}
    </div>
  </div>
</div>
